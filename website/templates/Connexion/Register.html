{% load static %}
<!DOCTYPE html>
<html>
   <head>
      <title>Inscription</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Fengyuan Chen's Datepicker -->
  	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" integrity="sha256-b88RdwbRJEzRx95nCuuva+hO5ExvXXnpX+78h8DjyOE=" crossorigin="anonymous" />
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css">
    <style>
		body,
		html {
			margin: 10px;
			padding: 0;
			height: 100%;
			background: #65b160 !important;
		}
		.user_card {
			width: 700px;
			height:100%;
			margin-top: auto;
			margin-bottom: auto;
			background: #65b161;
			position: relative;
			
			justify-content: center;
			flex-direction: column;
			padding: 9px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			border-radius: 5px;

		}
		.user_car {
			width: 500px;
			height:100%;
			margin-top: auto;
			margin-bottom: auto;
			background: #65b161;
			position: relative;
			
			justify-content: center;
			flex-direction: column;
			padding: 9px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			border-radius: 5px;

		}
        
		.form_container {
			margin-top: 20px;
		}

		#form-title{
			color: #fff;
		}
		.login_btn {
			width: 100%;
			background: #65b154 !important;
			color: white !important;
		}
		.login_btn:focus {
			box-shadow: none !important;
			outline: 0px !important;
		}
		.login_container {
			padding: 0 2rem;
		}
		.input-group-text {
			background: #f7ba5b !important;
			color: white !important;
			border: 0 !important;
			border-radius: 0.25rem 0 0 0.25rem !important;
		}
		.input_user,
		.input_pass:focus {
			box-shadow: none !important;
			outline: 0px !important;
		}

	</style>  
   <head>
   <body>
    <div class="container" style="max-width: 100%; margin-top:20px"> 
	<script>
	$(function(){
      $("#soso").hide() // try to hide google navigation bar
	  $("#sos").hide();
   });
	$(document).ready(function(){
    $('#soka').on('change', function() {
	  
      if ( this.value == 'phar')
      //.....................^.......
      {
        $("#soso").show();
		$("#sos").show();
		$("#add").show();
		
      }
	  if( this.value == 'emp' )
      {
        $("#soso").show();
		
		$("#sos").hide();
		$("#add").hide();
      }
      if( this.value == '' )
      {
        $("#soso").hide();
       
		$("#sos").hide();
		
      }
	   if( this.value == 'cl' )
      {
        $("#soso").show();
		
		$("#sos").hide();
		$("#add").hide();
		
		
      }
    });
});

	    </script>            
        <div class="d-flex justify-content-center ">
			<div class="user_card">
				<div class="d-flex justify-content-center">
					<h3 id="form-title">Inscription</h3>
				</div>
				{% for message in messages %}
					<div  class="alert alert-success alert-dismissible fade show" role="alert">
                        <p> {{message}} </p>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                       </button>
                    </div>      
				{% endfor %}
				{% if form.errors  %}
				    <div  class="alert alert-success alert-dismissible fade show" role="alert">
                        <p> {{form.errors}} </p>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
						</button>
                    </div>
				            
				{% endif %}
				<div class="d-flex justify-content-center form_container">
					<form method="POST" >
						{% csrf_token %}
						<div class="form-row">
							<div class="col-md-6 mb-3">
								<div class="input-group mb-3">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-user"></i></span>
									</div>
									{{form.first_name}}
								</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-user"></i></span>
									</div>
									{{form.last_name}}
								</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-user"></i></span>
									</div>
									{{form.username}}
							</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
								    <div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
								   </div>
									
									{{form.etat_civile}}
							    </div>		
									
							</div>
							<div class="col-md-6 mb-2">
									<div class="input-group "  >
										<div class="input-group-append"  >
											<div class="input-group-text"><i class="fas fa-birthday-cake"></i></div>
										</div>
										{{ form.date }}
									</div>
									<small style="color:white";>{{form.date.help_text}}</small>
							</div>
							<div class="col-md-6 mb-2">
									<div class="input-group mb-2">
										<div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
										</div>
										{{form.email}}
									</div>
							</div>	
							<div class="col-md-6 mb-3">
									<div class="input-group mb-2">
										<div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-key"></i></span>
										</div>
										{{form.password1}}
									</div>
							</div>
							<div class="col-md-6 mb-3">
									<div class="input-group mb-2">
										<div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-key"></i></span>
										</div>
										{{form.password2}}
									</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
									</div>
											
									{{form.activite}}
								</div>	
							</div>
							<div class="col-md-6 mb-3" id="soso">
								<div class="input-group mb-2">
										<div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-pills"></i></span>
												
			                            </div>	
									    {{form.nom_pharmacie}}
                                        <div class="input-group-append" id="add">
											<span class="input-group-text">	
				                               <i class=" fas fa-plus  " data-toggle="modal" data-target="#modal-pharmacie"></i>
											</span>
			                            </div>		
								</div>
							</div>
							<div class="datepick col-md-6 mb-2" id="sos">
									<div class="input-group date" >
										<div class="input-group-append"  >
											<div class="input-group-text"><i class="fas fa-graduation-cap"></i></div>
										</div>
										{{ form.date_obtention_de_diplome }}
									</div>
								<small style="color:white";>{{form.date_obtention_de_diplome.help_text}}</small>
							</div>
							<div class="col-md-6 mb-2">
									<div class="input-group mb-2">
										<div class="input-group-append">
											<span class="input-group-text"><i class="far fa-address-card"></i></span>
										</div>
										{{form.adresse_professionnelle}}
									</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="far fa-flag"></i></span>
									</div>
									{{form.ville_exercice}}
								</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-globe"></i></span>
									</div>
									{{form.pays}}
								</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-mobile"></i></span>
									</div>
									{{form.telephone}}
								</div>
							</div>
							<div class="col-md-6 mb-3">
								<div class="input-group mb-2">
									<div class="input-group-append">
										<span class="input-group-text"><i class="fas fa-phone"></i></span>
									</div>
									{{form.gsm}}
								</div>
							</div>
						</div>

				   		<div class="d-flex justify-content-center mt-3 login_container">
				 			<input class="btn login_btn" type="submit" value="Création Compte"/>
				   		</div>

					</form>
				
				</div>

				<div class="mt-4">
					<div class="d-flex justify-content-center links">
						Vous Avez déja Compte? <a href="{% url 'login' %}" class="ml-2">Connexion</a>
					</div>
				</div>
						

			 
			</div>
		</div>
		<br><br>
	</div>
	<div class="modal fade" id="modal-pharmacie">
      <div class="modal-dialog" >
        <div class="modal-content">
		   <div class="user_car">
				<div class="d-flex justify-content-center">
					<h3 id="form-title">Ajouter Votre Pharamcie</h3>
				</div>
				<button type="button" style="text-align: end;margin-top: -40px;color: white;" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
				</button>
				
				<div class="d-flex justify-content-center form_container">
                  {% load crispy_forms_tags %}
                    <form method="post">
                     {% csrf_token %}
						
						
						<div class="form-row"> 
							<div class="col-md-12 mb-3">
								<div class="input-group mb-2">
								    <div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-signature"></i></span>
								   </div>
									
									{{form2.nom}}
									
							    </div>
							<small style="color:white";>{{form2.nom.help_text}}</small>
						
							  <div class="input-group mb-2">
								    <div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-code"></i></span>
								   </div>
									
									{{form2.code}}
							    </div>
					        <small style="color:white";>{{form2.code.help_text}}</small>
							    <div class="input-group mb-2">
								    <div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-map"></i></span>
								   </div>
									
									{{form2.ville}}
							    </div>
							<small style="color:white";>{{form2.ville.help_text}}</small>
							    <div class="input-group mb-2">
								    <div class="input-group-append">
											<span class="input-group-text"><i class="fas fa-image"></i></span>
								   </div>
									
									{{form2.image}}
							    </div>
							<small style="color:white";>{{form2.image.help_text}}</small>
							</div>
						</div>
						
						<div class="d-flex justify-content-center mt-3 login_container">
						    <div class="col-md-6 mb-3">
							 <input class="btn btn-danger" type="submit" data-dismiss="modal" value="Fermer"/>
				 			</div>
							<div class="col-md-6 mb-3">
							 <input class="btn btn-success" type="submit" value="Sauvegarder"/>
							</div>
				   		</div>
						
                    </form>
                </div>
            </div>
        </div>	
	</div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    {% block javascript %}
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src="{% static 'js/navbar.js' %}"></script>
	    <script>
	
							/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
			//We start indexing at one because CSRF_token is considered and input field 
			*/

			//Query All input fields
			var form_fields = document.getElementsByTagName('input')
			form_fields[1].placeholder='Nom..';
			form_fields[2].placeholder='Prenom..';
			form_fields[3].placeholder='Username...';
			form_fields[5].placeholder='E-mail...';
			form_fields[6].placeholder='Enter password...';
			form_fields[7].placeholder='Re-enter Password...';
			form_fields[9].placeholder='Adresse professionnelle...';
			form_fields[10].placeholder="Ville d'exercice...";
			form_fields[11].placeholder='Pays...';
			form_fields[12].placeholder='GSM...';
			form_fields[13].placeholder='Télèphone';
			
			
			for (var field in form_fields){	
				form_fields[field].className += ' form-control'
			}
	    </script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	
    {% endblock %}
   </body>
</html>

                          
                       
                      
                   
                 